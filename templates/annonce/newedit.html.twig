{% extends 'base.html.twig' %}

{% block title %}Ajouter une annonce{% endblock %}

{% block javascripts %}
    <script src="{{asset('js/script_annonce.js')}}" defer></script>
    <script src="{{asset('js/script_city_finder.js')}}" defer></script>
    <script src="{{asset('js/progressbar.js')}}" defer></script>
{% endblock javascripts %}

{% block body %}
<div class="flex flex-grow justify-center items-center py-32">

    {% for flash_error in app.flashes('verify_email_error') %}
    <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
    {% endfor %}

    {{ form_errors(form) }}
    
    <div class="flex flex-col p-6 bg-white rounded-md shadow-md w-1/4">
        <h1 class="text-[#004C5E] text-center text-2xl pb-4">Ajouter une annonce</h1>
        <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 mb-4  transition-all duration-300 ease-in-out">
            <div id="progressBar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
          </div>
    
        {{ form_start(form, {attr: {id: 'newAnnonceForm', class:'flex flex-col gap-6'}}) }}
        {{ form_row(form.title, {attr: {class: 'flex flex-col gap-2 p-2 w-full rounded-md border border-gray-300'}}) }}
        {{ form_row(form.description, {attr: {class: 'flex flex-col gap-2 p-2 w-full rounded-md border border-gray-300'}}) }}
        {{ form_row(form.Category, {attr: {class: 'flex flex-col gap-2 p-2 w-full rounded-md border border-gray-300'}}) }}
        {{ form_row(form.subcategory, {attr: {class: 'flex flex-col gap-2 p-2 w-full rounded-md border border-gray-300'}}) }}
        {{ form_row(form.price, {attr: {class: 'flex flex-col gap-2 p-2 w-full rounded-md border border-gray-300'}}) }}
        {{ form_row(form.state, {attr: {class: 'flex flex-col gap-2 p-2 w-full rounded-md border border-gray-300'}})}}
        {{ form_row(form.images, {attr: {class: 'flex flex-col gap-2 p-2 w-full rounded-md border border-gray-300'}}) }}
        {{ form_row(form.zipcode, {attr: {class: 'flex flex-col gap-2 p-2 w-full rounded-md border border-gray-300'}}) }}
        {{ form_row(form.city, {attr: {class: 'flex flex-col gap-2 p-2 w-full rounded-md border border-gray-300'}}) }}
        {{ form_row(form.telephone, {attr: {class: 'flex flex-col gap-2 p-2 w-full rounded-md border border-gray-300'}}) }}
        {{ form_row(form.isVisible) }}
        <fieldset class="candy">
            {{ form_label(form.phone) }}
            {{ form_errors(form.phone) }}
            {{ form_widget(form.phone) }}
        </fieldset>
        <fieldset class="candy">
            {{ form_label(form.faxNumber) }}
            {{ form_errors(form.faxNumber) }}
            {{ form_widget(form.faxNumber) }}
        </fieldset>
        <button type="submit" class="bg-[#004C5E] p-2 rounded-md hover:bg-[#086479] text-white w-32 m-auto mt-4">Valider</button>
        {{ form_end(form) }}
    </div>
</div>

{% endblock %}
